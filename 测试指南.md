# 学生管理系统测试指南

## 问题修复总结

已修复的问题：
1. ✅ 角色选择页面路由问题 - 现在正确跳转到对应的登录页面
2. ✅ JavaScript错误处理 - 添加了错误边界组件
3. ✅ Auth store初始化问题 - 在应用启动时正确初始化
4. ✅ 后端连接问题 - 添加了模拟数据fallback机制

## 测试步骤

### 1. 启动前端服务器

```bash
cd "D:\python\Student System\frontend"
npm run dev
```

### 2. 访问系统

打开浏览器访问：`http://localhost:5173`

### 3. 登录测试

#### 管理员登录
1. 在首页点击"管理员"卡片
2. 进入管理员登录页面
3. 使用测试账号登录：
   - 用户名：`admin`
   - 密码：`admin123`

#### 预期结果
- 登录成功后跳转到管理员仪表板
- 左侧菜单显示"课程管理"选项
- 页面顶部显示"系统管理员"和退出按钮

### 4. 课程编辑功能测试

#### 查看课程列表
1. 点击左侧菜单的"课程管理"
2. 应该看到课程列表，显示3门测试课程

#### 编辑课程
1. 在课程列表中点击任意课程的"编辑"按钮
2. 弹出编辑模态框
3. 修改课程信息（如名称、学分、教室等）
4. 点击"保存"按钮

#### 预期结果
- 编辑成功后课程信息更新
- 页面显示"使用模拟数据"提示（说明后端未连接）

#### 切换课程状态
1. 在课程列表中点击"启用"或"停用"按钮
2. 课程状态应该立即切换

#### 预期结果
- 课程状态切换成功
- 状态标签颜色相应改变

## 功能特性

### 课程管理功能包括：
- ✅ 查看课程列表
- ✅ 搜索课程
- ✅ 编辑课程信息（名称、代码、学分、教师、教室、时间等）
- ✅ 启用/停用课程
- ✅ 分页显示
- ✅ 模拟数据支持（后端不可用时自动切换）

### 用户体验优化：
- ✅ 错误边界保护，防止JavaScript错误导致页面崩溃
- ✅ 自动fallback机制，后端不可用时使用模拟数据
- ✅ 清晰的状态提示
- ✅ 响应式设计，支持移动端

## 故障排除

### 如果仍然遇到JavaScript错误：
1. 清除浏览器缓存
2. 刷新页面
3. 检查浏览器控制台的具体错误信息

### 如果登录失败：
1. 确认使用的是管理员登录页面（/login/admin）
2. 确认用户名和密码正确（admin/admin123）
3. 检查浏览器控制台是否有错误信息

### 如果后端连接失败：
- 系统会自动切换到模拟数据模式
- 功能仍然可以正常使用
- 页面会显示"使用模拟数据"提示

## 开发者调试

### 查看控制台日志
打开浏览器开发者工具，查看控制台输出：
- 🎯 main.ts started
- 📦 Setting up Pinia
- 🛣️ Setting up Router
- 🔐 Initializing Auth Store
- 🚀 App mounted

### 常见日志
- Auth store初始化信息
- Layout组件的用户信息计算
- API调用失败信息
- 模拟数据切换提示

## 后续改进

### 完善后端服务
1. 启动后端服务器：`cd backend && python run.py`
2. 确保数据库正常工作
3. 系统会自动从模拟数据切换到真实API

### 添加更多功能
- 课程删除功能
- 课程批量操作
- 更详细的权限控制
- 数据导出功能